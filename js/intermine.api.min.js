(function(){var e,n,t,i,r,s,o,u,a,d,f,l,c,g,m,w,p,j,h=[].slice;if(a={widgets:{latest:"/js/intermine/widgets/latest/intermine.widgets.js","1.0.0":"/js/intermine/widgets/1.0.0/intermine.widgets.js","1.1.0":"/js/intermine/widgets/1.1.0/intermine.widgets.js","1.1.7":"/js/intermine/widgets/1.1.7/intermine.widgets.js","1.1.8":"/js/intermine/widgets/1.1.8/intermine.widgets.js","1.1.9":"/js/intermine/widgets/1.1.9/intermine.widgets.js","1.1.10":"/js/intermine/widgets/1.1.10/intermine.widgets.js","1.2.0":"/js/intermine/widgets/1.2.0/intermine.widgets.js","1.2.1":"/js/intermine/widgets/1.2.1/intermine.widgets.js","1.3.0":"/js/intermine/widgets/1.3.0/intermine.widgets.js","1.4.0":"/js/intermine/widgets/1.4.0/intermine.widgets.js","1.4.1":"/js/intermine/widgets/1.4.1/intermine.widgets.js","1.4.2":"/js/intermine/widgets/1.4.2/intermine.widgets.js","1.6.7":"/js/intermine/widgets/1.6.7/intermine.widgets.js","1.6.8":"/js/intermine/widgets/1.6.8/intermine.widgets.js","1.7.0":"/js/intermine/widgets/1.7.0/intermine.widgets.js","1.7.3":"/js/intermine/widgets/1.7.3/intermine.widgets.js","1.8.0":"/js/intermine/widgets/1.8.0/intermine.widgets.js","1.8.1":"/js/intermine/widgets/1.8.1/intermine.widgets.js","1.8.2":"/js/intermine/widgets/1.8.2/intermine.widgets.js","1.8.3":"/js/intermine/widgets/1.8.3/intermine.widgets.js","1.9.1":"/js/intermine/widgets/1.9.1/intermine.widgets.js","1.10.0":"/js/intermine/widgets/1.10.0/intermine.widgets.js","1.11.2":"/js/intermine/widgets/1.11.2/intermine.widgets.js"},"report-widgets":{latest:"/js/intermine/report-widgets/latest/intermine.report-widgets.js","0.7.0":"/js/intermine/report-widgets/0.7.0/intermine.report-widgets.js"}},d=this,d.intermine=t=d.intermine||{},d.window===void 0){if("undefined"==typeof global)throw"what kind of environment is this?";d.window=global}t.load||(t.loader={timeout:1e4,processing:50,fn:function(e,n,t){switch(null==n&&(n="js"),n){case"js":return g.script(e,t);case"css":return g.style(e,t);default:return t("Unrecognized type `"+n+"`")}}},o={},i=0,s="http://cdn.intermine.org",r=function(e,n,r){var s,a,c,g,w,p,h,y,v,b,x,O,T,k;w=++i,u({job:w,message:"start"}),y=function(e){var n,t,i,r,s;if(~e.indexOf("?"))return!1;for(n=d.window,s=e.split("."),i=0,r=s.length;r>i;i++){if(t=s[i],null==n[t])return!1;n=n[t]}return!0},g=!1,c=function(e){return g=!0,r(e)},h={},x=function(i,r){var s,a,f,l,m,p;if(u({job:w,library:i,message:"start"}),!g){if(f=r.path,l=r.test,a=r.depends,!f)return c("Library `path` not provided for "+i);if(l&&"function"==typeof l&&l()||y(i))return u({job:w,library:i,message:"exists"}),h[i]=function(e){return e(null)};if(o[i])return u({job:w,library:i,message:"will wait"}),h[i]=function(e){return o[i].push(e)};if(o[i]=[],u({job:w,library:i,message:"will download"}),h[i]=function(e){var r,s;return u({job:w,library:i,message:"downloading"}),s=d.window.setTimeout(function(){return u({job:w,library:i,message:"timed out"}),r("The library `"+i+"` has timed out")},t.loader.timeout),r=function(n){var r,a;if(!g)return clearTimeout(s),n?(delete o[i],c(n)):(u({job:w,library:i,message:"downloaded"}),a=function(){for(u({job:w,library:i,message:"ready"});0!==o[i].length;)o[i].pop()();return delete o[i],e(null)},s=d.window.setTimeout(a,t.loader.processing),(r=function(){return l&&"function"==typeof l&&l()||y(i)?(u({job:w,library:i,message:"exists"}),d.window.clearTimeout(s),a()):j(r)})())},t.loader.fn(f,n,r)},a&&a instanceof Array){for(m=0,p=a.length;p>m;m++)if(s=a[m],"string"!=typeof s||null==e[s])return delete o[i],c("Unrecognized dependency `"+s+"`");return h[i]=a.concat(h[i])}}};for(p in e)b=e[p],x(p,b);if(!g){a=[];for(p in h)b=h[p],b instanceof Array&&(v={},(s=function(e){var n,t,i,r,o;if("string"==typeof e)if(null!=v[e]){if(!l(a,e))return a.push(e)}else if(v[e]=!0,(t=h[e])instanceof Array){for(o=[],n=i=0,r=t.length-1;r>=0?r>i:i>r;n=r>=0?++i:--i)o.push(s(t[n]));return o}})(p));if(a.length){for(k=m(h),O=0,T=k.length;T>O;O++)p=k[O],delete o[p];return c("Circular dependencies detected for `"+a+"`")}return f(h,function(e){return e?r(e):r(null)})}},t.setLoadRoot=function(e){return s=e},t.load=function(){var e,n,t,i,o,u,d,f,l,c,g,w,p,j,y,v;if(f=arguments[0],e=arguments.length>=2?h.call(arguments,1):[],n=1===arguments.length?f:e.pop(),j="latest","string"==typeof e[0]&&(j=e[0]),"function"!=typeof n&&(n=function(){}),i=function(e,n){var t;return t=s,a[e]&&a[e][n]?t+a[e][n]:!1},"string"==typeof f)return a[f]?(g=i(f,j))?(c={},c["intermine."+f]={path:g},r(c,"js",n)):n("Unknown `"+f+"` version "+j):n("Unknown library `"+f+"`");if(f instanceof Array){c={js:{},css:{}};for(u in f){if(v=f[u],l=v.name,g=v.path,p=v.type,y=v.wait,!g&&!p)return n("Library `path` or `type` not provided");if("css"!==p&&"js"!==p)return n("Library type `"+p+"` not recognized");l||(l=g.split("/").pop()),f[u].name=l,c[p][l]={path:g},y&&parseInt(u)&&(c[p][l].depends=[f[u-1].name])}f=c}return"object"==typeof f?(u=m(f).length,t=!1,o=function(e){return t?void 0:e?(t=!0,n(e)):u--&&!u?n(null):void 0},function(){var e;e=[];for(d in f)w=f[d],e.push(r(w,d,o));return e}()):n("Unrecognized input")},t.log&&t.log instanceof Array||(t.log=[]),u=function(){var e;return t.log.push(["api-loader",(new Date).toLocaleString(),function(){var n,t,i;for(i=[],n=0,t=arguments.length;t>n;n++)e=arguments[n],i.push(JSON.stringify(e));return i}.apply(this,arguments).join(" ")])},j="undefined"!=typeof process&&process.nextTick?"undefined"!=typeof setImmediate?setImmediate:process.nextTick:"function"==typeof setImmediate?setImmediate:function(e){return setTimeout(e,0)},c=function(e,n){var t,i,r;if(e.forEach)return e.forEach(n);r=[];for(t in e)i=e[t],r.push(n(i,t,e));return r},w=function(e,n){var t;return e.map?e.map(n):(t=[],c(e,function(e,i,r){return t.push(n(e,i,r))}),t)},p=function(e,n,t){return e.reduce?e.reduce(n,t):(c(e,function(e,i,r){return t=n(t,e,i,r)}),t)},m=function(e){var n,t;if(Object.keys)return Object.keys(e);t=[];for(n in e)e.hasOwnProperty(n)&&t.push(n);return t},l=function(e,n){var t,i,r;if([].indexOf)return e.indexOf(n)>=0;for(i=0,r=e.length;r>i;i++)if(t=e[i],t===n)return!0;return!1},f=function(e,n){var t,i,r,s,o,u;return n=n||function(){},i=m(e),i.length?(o={},r=[],t=function(e){return r.unshift(e)},s=function(e){var n,t;for(n in r)if(t=r[n],t===e)return r.splice(n,1),void 0},u=function(){return c(r.slice(0),function(e){return e()})},t(function(){return m(o).length===i.length?(n(null,o),n=function(){}):void 0}),c(i,function(i){var r,a,d,f,l;return f=e[i]instanceof Function?[e[i]]:e[i],l=function(e){var t,r;return t=Array.prototype.slice.call(arguments,1),1>=t.length&&(t=t[0]),e?(r={},c(m(o),function(e){return r[e]=o[e]}),r[i]=t,n(e,r),n=function(){}):(o[i]=t,j(u))},d=f.slice(0,Math.abs(f.length-1))||[],a=function(){return p(d,function(e,n){return e&&o.hasOwnProperty(n)},!0)&&!o.hasOwnProperty(i)},a()?f[f.length-1](l,o):(r=function(){return a()?(s(r),f[f.length-1](l,o)):void 0},t(r))})):n(null)},e=d.window.document,e&&(n=e.head||e.getElementsByTagName("head")[0]),g={script:function(t,i){var r,s,o;return n?(r=function(){return o.onload=o.onreadystatechange=o.onerror=null,n.removeChild(o),i&&i.call(d.window,s?null:"`script.onerror` fired")},o=e.createElement("script"),s=!1,o.type="text/javascript",o.charset="utf-8",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(n){return n=n||d.window.event,"load"===n.type||/loaded|complete/.test(o.readyState)&&(!e.documentMode||9>e.documentMode)?(s=!0,o.onload=o.onreadystatechange=o.onerror=null,j(r)):void 0},o.onerror=function(e){return e=e||d.window.event,o.onload=o.onreadystatechange=o.onerror=null,j(r)},n.insertBefore(o,n.lastChild)):i("`window.document` does not exist")},style:function(t,i){var r;return r=e.createElement("link"),r.rel="stylesheet",r.type="text/css",r.href=t,n.insertBefore(r,n.lastChild),j(i)}})}).call(this);